#ifndef UTIL_H
#define UTIL_H

#include <cstdint>
#include <string>
#include <bitset>
#include <array>

using std::bitset;
using std::string;

// Typedef

// Default ints to use
// Generally memory is not too critical, prioritize speed
typedef uint_fast32_t uintf;
typedef int_fast32_t intf;

// Ints for memory critical parts
// Generally use in large arrays
typedef uint_least8_t uint8s;
typedef uint_least16_t uint16s;

// Define constants used by the pipeline
// This is for constants used by more than one file
// Otherwise keep the constants in the file that uses it

// Size of game state sample
const uintf GAME_STATE_SIZE = 70;
// Number of possible legal moves
const uintf NUM_TOTAL_MOVES = 96;
// Number of moves the simulator uses
const uintf NUM_MOVES = 96;

enum Result {NONE, LOSS, DRAW, WIN};

inline std::array<bitset<NUM_TOTAL_MOVES>, 102> line_breakers = {
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000001110000000000001000000000000111000000000100000000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000011100000000000010000000000000000000000000001111000000000100000000000111000000000100"),
	bitset<NUM_TOTAL_MOVES>("000000000000100000000000000000000000000000000000000000001000000000000000000000000111000000000100"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000011100000000000010000000000001110000000000100000000000000111000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000111000000000000100000000000000000000000000011110111000000100000000001111111000000100000"),
	bitset<NUM_TOTAL_MOVES>("000000001000000000000000000000000000000000000000000010000111000000000000000001111000000000100000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000111000000000000100000000000011100000000000100000000000001110000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000001110000000000001000000000000000000000000000011101110000000100000000011111110000000100000000"),
	bitset<NUM_TOTAL_MOVES>("000010000000000000000000000000000000000000000000100001110000000000000000011110000000000100000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000001110000000000001000000000000000000000000000100000000000011100000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("011100000000000010000000000000000000000000000000011100000000100000000000111100000000100000000000"),
	bitset<NUM_TOTAL_MOVES>("100000000000000000000000000000000000000000000000011100000000000000000000100000000000100000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000011100000000000000001000000001110000000000000000000000000000000000001"),
	bitset<NUM_TOTAL_MOVES>("000000000000111000000000000000010000000000000000000000001111000000000001000000001110000000000001"),
	bitset<NUM_TOTAL_MOVES>("000000000000000100000000000000000000000000000000000000000001000000000001000000001110000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000111000000000000000010000000011100000000000000000000000001110000000001000"),
	bitset<NUM_TOTAL_MOVES>("000000001110000000000000000100000000000000000000000011111110000000001000000011101111000000001000"),
	bitset<NUM_TOTAL_MOVES>("000000000001000000000000000000000000000000000000000000011110000000001000000011100001000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000001110000000000000000100000000111000000000000000000000000011100000000001000000"),
	bitset<NUM_TOTAL_MOVES>("000011100000000000000001000000000000000000000000111111100000000001000000111011110000000001000000"),
	bitset<NUM_TOTAL_MOVES>("000000010000000000000000000000000000000000000000000111100000000001000000111000010000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000011100000000000000001000000000000000000000000000000000000111000000000001000000000"),
	bitset<NUM_TOTAL_MOVES>("111000000000000000010000000000000000000000000000111000000000001000000000111100000000001000000000"),
	bitset<NUM_TOTAL_MOVES>("000100000000000000000000000000000000000000000000111000000000001000000000000100000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000001100000000000000000000000000110000000000000000000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000011000000000000000000000000001100000000000000000000000000110000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000110000000000000000000000000011000000000000000000000000001100000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000001100000000000000000000000000000000000000000000000000000011000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000011000000000000000000000000000000000000000000110000000000000000000000110000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000110000000000000000000000000000000000000000001100110000000000000000001100110000000000000"),
	bitset<NUM_TOTAL_MOVES>("000001100000000000000000000000000000000000000000011001100000000000000000011001100000000000000000"),
	bitset<NUM_TOTAL_MOVES>("011000000000000000000000000000000000000000000000011000000000000000000000011000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000000110000000000000000001100000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000001100000000000000000011000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000001000100010001000000000000000100000000000001001001000000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000010001000100010000000000000000000000000000000100000000001001001001000100000000000001001001"),
	bitset<NUM_TOTAL_MOVES>("000100000000000000000000000000000000000000000000000000000000001000000000000100000000000001001001"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000010001000100010000000000000001000000000000010010010000000000000000001001001"),
	bitset<NUM_TOTAL_MOVES>("000000100010001000100000000000000000000000000000001000000000010011011011001000000000001011011011"),
	bitset<NUM_TOTAL_MOVES>("001000000000000000000000000000000000000000000000000000000000010001001001001000000000001010010010"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000100010001000100000000000000010000000000000100100100000000000000000010010010"),
	bitset<NUM_TOTAL_MOVES>("000001000100010001000000000000000000000000000000010000000000100110110110010000000000010110110110"),
	bitset<NUM_TOTAL_MOVES>("010000000000000000000000000000000000000000000000000000000000100010010010010000000000010100100100"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000001000100010001000000000000000100000000000000000000000000000000000000100100100"),
	bitset<NUM_TOTAL_MOVES>("000010001000100010000000000000000000000000000000100000000000000100100100100000000000100100100100"),
	bitset<NUM_TOTAL_MOVES>("100000000000000000000000000000000000000000000000000000000000000100100100100000000000100000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000010001000100000000000000000001000000000000001001001000000000000001000000000000"),
	bitset<NUM_TOTAL_MOVES>("000100010001000000000000000000010000000000000000000000000001001001001001000000000001001001001000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000100000000000000000000000000000000000000000001000000000001000000000000001001001000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000100010001000000000000000000010000000000000010010010000000000000010001001001000"),
	bitset<NUM_TOTAL_MOVES>("001000100010000000000000000000100000000000000000000000000010011011011010000000000010011011011001"),
	bitset<NUM_TOTAL_MOVES>("000000000000001000000000000000000000000000000000000000000010001001001010000000000000010010010001"),
	bitset<NUM_TOTAL_MOVES>("000000000000000001000100010000000000000000000100000000000000100100100000000000000100010010010000"),
	bitset<NUM_TOTAL_MOVES>("010001000100000000000000000001000000000000000000000000000100110110110100000000000100110110110010"),
	bitset<NUM_TOTAL_MOVES>("000000000000010000000000000000000000000000000000000000000100010010010100000000000000100100100010"),
	bitset<NUM_TOTAL_MOVES>("000000000000000010001000100000000000000000001000000000000000000000000000000000001000100100100000"),
	bitset<NUM_TOTAL_MOVES>("100010001000000000000000000010000000000000000000000000001000100100100000000000001000100100100100"),
	bitset<NUM_TOTAL_MOVES>("000000000000100000000000000000000000000000000000000000001000100100100000000000000000000000000100"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000001000100000000000000000000000000000000000001001000000000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000010001000000000000000000000000000000000000010010000000000000000000001001000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000100010000000000000000000000000000000000000100100000000000000000000010010000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000001000100000000000000000000000000000000000000000000000000000000000000100100000"),
	bitset<NUM_TOTAL_MOVES>("000000010001000000000000000000000000000000000000000000000000000001001000000000000000000001001000"),
	bitset<NUM_TOTAL_MOVES>("000000100010000000000000000000000000000000000000000000000000000011011000000000000000000011011000"),
	bitset<NUM_TOTAL_MOVES>("000001000100000000000000000000000000000000000000000000000000000110110000000000000000000110110000"),
	bitset<NUM_TOTAL_MOVES>("000010001000000000000000000000000000000000000000000000000000000100100000000000000000000100100000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001001000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000000000000001001000000000000000000010010000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000000000000010010000000000000000000100100000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000000000000100100000000000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000100001000011000000000000000010000100001000100010001000000000110000010001000"),
	bitset<NUM_TOTAL_MOVES>("000001000010000110000000000000000000000000000000010001100011000110011001110000100111100110011001"),
	bitset<NUM_TOTAL_MOVES>("100000000000000000000000000000000000000000000000000001000010000010001000110000100001100100010001"),
	bitset<NUM_TOTAL_MOVES>("000000000000000010000100001000000000000000000001010000100000000100010000100000000110100010001000"),
	bitset<NUM_TOTAL_MOVES>("100001000010000000000000000000010000000000000000110001100011100110011001110000100110100110011000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000100000000000000000000000000000000100001000011100010001001010000100000000100010000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000100001000000000000000000000010000100000000100010000000000000110000010001000"),
	bitset<NUM_TOTAL_MOVES>("000001000010000000000000000000000000000000000000010001100010000110011000010000100110000110011000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000001000010000010001000010000100000000100010000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000010010010000001000000000000001001001000000010100000000000000110000001010100"),
	bitset<NUM_TOTAL_MOVES>("000000100100100000010000000000000000000000000000001001101100001011110100001101001110000011110100"),
	bitset<NUM_TOTAL_MOVES>("000100000000000000000000000000000000000000000000000000100100001001010100001101001000000010100000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000010010010000000000000000001000001001000000001010100000000100000110000001010000"),
	bitset<NUM_TOTAL_MOVES>("000100100100000000000000000010000000000000000000001101101100001011110000001101000110001011110100"),
	bitset<NUM_TOTAL_MOVES>("000000000000100000000000000000000000000000000000000100101100000001010000001001000000001010100100"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000010010000000000000000000000001001000000000010100000000000000110000001010000"),
	bitset<NUM_TOTAL_MOVES>("000000100100000000000000000000000000000000000000001001100100000011110000001001000110000011110000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000100100000001010000001001000000000010100000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000001001001000000000000000000000100100100000001010100000000010010000000001010"),
	bitset<NUM_TOTAL_MOVES>("000000010010010000000000000000000000000000000000000100110110000001011110000100110110000001011110"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000000010010000000001010000100100100000001010100"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000001000010000100000000000000000100001000010000000100010000010000100000100010001"),
	bitset<NUM_TOTAL_MOVES>("000010000100001000000000000000000000000000000000100011000110000100110011100011000110000100110011"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000000010000100000100010001100001000010000000100010"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000100100100000000000000000000000010010000000010100000000001001001000001010100000"),
	bitset<NUM_TOTAL_MOVES>("001001001000000000000000000000000000000000000000011011001000011110100000011011001000011110100000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000001001001000001010100000010010000000010100000000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000001000010000100000000000000000000001000010000100010001000010000100001010001000000"),
	bitset<NUM_TOTAL_MOVES>("010000100001000000000000000000000000000000000000011000110001110011001000011000110001110011001000"),
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000000000000000000000000000010000100001010001000000001000010000100010001000"),
};

#endif