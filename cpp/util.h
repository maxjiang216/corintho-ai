#ifndef UTIL_H
#define UTIL_H

#include <array>
#include <bitset>
#include <cstdint>
#include <string>

using std::bitset;
using std::string;

// Typedef

// Default ints to use
// Generally memory is not too critical, prioritize speed
typedef uint_fast32_t uintf;
typedef int_fast32_t intf;

// Ints for memory critical parts
// Generally use in large arrays
typedef uint_least8_t uint8s;
typedef uint_least16_t uint16s;

// Define constants used by the pipeline
// This is for constants used by more than one file
// Otherwise keep the constants in the file that uses it

// Size of game state sample
const uintf GAME_STATE_SIZE = 70;
// Number of possible legal moves
const uintf NUM_TOTAL_MOVES = 96;
// Number of moves the simulator uses
const uintf NUM_MOVES = 96;

enum Result { NONE, LOSS, DRAW, WIN };

inline std::array<bitset<NUM_TOTAL_MOVES>, 102> line_breakers = {
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000111000000000000100000"
                            "0000000111000000000100000000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000001110000000000001000000000000000000000"
                            "0000001111000000000100000000000111000000000100"),
    bitset<NUM_TOTAL_MOVES>("00000000000010000000000000000000000000000000000000"
                            "0000001000000000000000000000000111000000000100"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000001110000000000001000000000"
                            "0001110000000000100000000000000111000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000011100000000000010000000000000000000000000"
                            "0011110111000000100000000001111111000000100000"),
    bitset<NUM_TOTAL_MOVES>("00000000100000000000000000000000000000000000000000"
                            "0010000111000000000000000001111000000000100000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000011100000000000010000000000001"
                            "1100000000000100000000000001110000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000111000000000000100000000000000000000000000001"
                            "1101110000000100000000011111110000000100000000"),
    bitset<NUM_TOTAL_MOVES>("00001000000000000000000000000000000000000000000010"
                            "0001110000000000000000011110000000000100000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000111000000000000100000000000000000"
                            "0000000000100000000000011100000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("01110000000000001000000000000000000000000000000001"
                            "1100000000100000000000111100000000100000000000"),
    bitset<NUM_TOTAL_MOVES>("10000000000000000000000000000000000000000000000001"
                            "1100000000000000000000100000000000100000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000001110000000000000000100"
                            "0000001110000000000000000000000000000000000001"),
    bitset<NUM_TOTAL_MOVES>("00000000000011100000000000000001000000000000000000"
                            "0000001111000000000001000000001110000000000001"),
    bitset<NUM_TOTAL_MOVES>("00000000000000010000000000000000000000000000000000"
                            "0000000001000000000001000000001110000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000011100000000000000001000000"
                            "0011100000000000000000000000001110000000001000"),
    bitset<NUM_TOTAL_MOVES>("00000000111000000000000000010000000000000000000000"
                            "0011111110000000001000000011101111000000001000"),
    bitset<NUM_TOTAL_MOVES>("00000000000100000000000000000000000000000000000000"
                            "0000011110000000001000000011100001000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000111000000000000000010000000011"
                            "1000000000000000000000000011100000000001000000"),
    bitset<NUM_TOTAL_MOVES>("00001110000000000000000100000000000000000000000011"
                            "1111100000000001000000111011110000000001000000"),
    bitset<NUM_TOTAL_MOVES>("00000001000000000000000000000000000000000000000000"
                            "0111100000000001000000111000010000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000001110000000000000000100000000000000"
                            "0000000000000000000000111000000000001000000000"),
    bitset<NUM_TOTAL_MOVES>("11100000000000000001000000000000000000000000000011"
                            "1000000000001000000000111100000000001000000000"),
    bitset<NUM_TOTAL_MOVES>("00010000000000000000000000000000000000000000000011"
                            "1000000000001000000000000100000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000110000000000000000000"
                            "0000000110000000000000000000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000001100000000000000000000000"
                            "0001100000000000000000000000000110000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000011000000000000000000000000001"
                            "1000000000000000000000000001100000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000110000000000000000000000000000000"
                            "0000000000000000000000011000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000001100000000000000000000000000000000000"
                            "0000000110000000000000000000000110000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000011000000000000000000000000000000000000000"
                            "0001100110000000000000000001100110000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000110000000000000000000000000000000000000000001"
                            "1001100000000000000000011001100000000000000000"),
    bitset<NUM_TOTAL_MOVES>("01100000000000000000000000000000000000000000000001"
                            "1000000000000000000000011000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000000000000000000000000000000110000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000000110000000000000000001100000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0001100000000000000000011000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000001"
                            "1000000000000000000000000000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000100010001000100000000000000"
                            "0100000000000001001001000000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000001000100010001000000000000000000000000000000"
                            "0100000000001001001001000100000000000001001001"),
    bitset<NUM_TOTAL_MOVES>("00010000000000000000000000000000000000000000000000"
                            "0000000000001000000000000100000000000001001001"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000001000100010001000000000000000"
                            "1000000000000010010010000000000000000001001001"),
    bitset<NUM_TOTAL_MOVES>("00000010001000100010000000000000000000000000000000"
                            "1000000000010011011011001000000000001011011011"),
    bitset<NUM_TOTAL_MOVES>("00100000000000000000000000000000000000000000000000"
                            "0000000000010001001001001000000000001010010010"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000010001000100010000000000000001"
                            "0000000000000100100100000000000000000010010010"),
    bitset<NUM_TOTAL_MOVES>("00000100010001000100000000000000000000000000000001"
                            "0000000000100110110110010000000000010110110110"),
    bitset<NUM_TOTAL_MOVES>("01000000000000000000000000000000000000000000000000"
                            "0000000000100010010010010000000000010100100100"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000100010001000100000000000000010"
                            "0000000000000000000000000000000000000100100100"),
    bitset<NUM_TOTAL_MOVES>("00001000100010001000000000000000000000000000000010"
                            "0000000000000100100100100000000000100100100100"),
    bitset<NUM_TOTAL_MOVES>("10000000000000000000000000000000000000000000000000"
                            "0000000000000100100100100000000000100000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000001000100010000000000000000000100"
                            "0000000000001001001000000000000001000000000000"),
    bitset<NUM_TOTAL_MOVES>("00010001000100000000000000000001000000000000000000"
                            "0000000001001001001001000000000001001001001000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000010000000000000000000000000000000000"
                            "0000000001000000000001000000000000001001001000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000010001000100000000000000000001000"
                            "0000000000010010010000000000000010001001001000"),
    bitset<NUM_TOTAL_MOVES>("00100010001000000000000000000010000000000000000000"
                            "0000000010011011011010000000000010011011011001"),
    bitset<NUM_TOTAL_MOVES>("00000000000000100000000000000000000000000000000000"
                            "0000000010001001001010000000000000010010010001"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000100010001000000000000000000010000"
                            "0000000000100100100000000000000100010010010000"),
    bitset<NUM_TOTAL_MOVES>("01000100010000000000000000000100000000000000000000"
                            "0000000100110110110100000000000100110110110010"),
    bitset<NUM_TOTAL_MOVES>("00000000000001000000000000000000000000000000000000"
                            "0000000100010010010100000000000000100100100010"),
    bitset<NUM_TOTAL_MOVES>("00000000000000001000100010000000000000000000100000"
                            "0000000000000000000000000000001000100100100000"),
    bitset<NUM_TOTAL_MOVES>("10001000100000000000000000001000000000000000000000"
                            "0000001000100100100000000000001000100100100100"),
    bitset<NUM_TOTAL_MOVES>("00000000000010000000000000000000000000000000000000"
                            "0000001000100100100000000000000000000000000100"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000100010000000000000000000000"
                            "0000000000000001001000000000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000001000100000000000000000000000"
                            "0000000000000010010000000000000000000001001000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000010001000000000000000000000000"
                            "0000000000000100100000000000000000000010010000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000100010000000000000000000000000"
                            "0000000000000000000000000000000000000100100000"),
    bitset<NUM_TOTAL_MOVES>("00000001000100000000000000000000000000000000000000"
                            "0000000000000001001000000000000000000001001000"),
    bitset<NUM_TOTAL_MOVES>("00000010001000000000000000000000000000000000000000"
                            "0000000000000011011000000000000000000011011000"),
    bitset<NUM_TOTAL_MOVES>("00000100010000000000000000000000000000000000000000"
                            "0000000000000110110000000000000000000110110000"),
    bitset<NUM_TOTAL_MOVES>("00001000100000000000000000000000000000000000000000"
                            "0000000000000100100000000000000000000100100000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000000000000000000000000000000000000001001000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000000000000001001000000000000000000010010000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000000000000010010000000000000000000100100000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000000000000100100000000000000000000000000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000010000100001100000000000000001"
                            "0000100001000100010001000000000110000010001000"),
    bitset<NUM_TOTAL_MOVES>("00000100001000011000000000000000000000000000000001"
                            "0001100011000110011001110000100111100110011001"),
    bitset<NUM_TOTAL_MOVES>("10000000000000000000000000000000000000000000000000"
                            "0001000010000010001000110000100001100100010001"),
    bitset<NUM_TOTAL_MOVES>("00000000000000001000010000100000000000000000000101"
                            "0000100000000100010000100000000110100010001000"),
    bitset<NUM_TOTAL_MOVES>("10000100001000000000000000000001000000000000000011"
                            "0001100011100110011001110000100110100110011000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000010000000000000000000000000000000010"
                            "0001000011100010001001010000100000000100010000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000010000100000000000000000000001"
                            "0000100000000100010000000000000110000010001000"),
    bitset<NUM_TOTAL_MOVES>("00000100001000000000000000000000000000000000000001"
                            "0001100010000110011000010000100110000110011000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0001000010000010001000010000100000000100010000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000001001001000000100000000000000"
                            "1001001000000010100000000000000110000001010100"),
    bitset<NUM_TOTAL_MOVES>("00000010010010000001000000000000000000000000000000"
                            "1001101100001011110100001101001110000011110100"),
    bitset<NUM_TOTAL_MOVES>("00010000000000000000000000000000000000000000000000"
                            "0000100100001001010100001101001000000010100000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000001001001000000000000000000100000"
                            "1001000000001010100000000100000110000001010000"),
    bitset<NUM_TOTAL_MOVES>("00010010010000000000000000001000000000000000000000"
                            "1101101100001011110000001101000110001011110100"),
    bitset<NUM_TOTAL_MOVES>("00000000000010000000000000000000000000000000000000"
                            "0100101100000001010000001001000000001010100100"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000001001000000000000000000000000"
                            "1001000000000010100000000000000110000001010000"),
    bitset<NUM_TOTAL_MOVES>("00000010010000000000000000000000000000000000000000"
                            "1001100100000011110000001001000110000011110000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000100100000001010000001001000000000010100000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000100100100000000000000000000"
                            "0100100100000001010100000000010010000000001010"),
    bitset<NUM_TOTAL_MOVES>("00000001001001000000000000000000000000000000000000"
                            "0100110110000001011110000100110110000001011110"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0000010010000000001010000100100100000001010100"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000100001000010000000000000000010"
                            "0001000010000000100010000010000100000100010001"),
    bitset<NUM_TOTAL_MOVES>("00001000010000100000000000000000000000000000000010"
                            "0011000110000100110011100011000110000100110011"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "0010000100000100010001100001000010000000100010"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000010010010000000000000000000000001"
                            "0010000000010100000000001001001000001010100000"),
    bitset<NUM_TOTAL_MOVES>("00100100100000000000000000000000000000000000000001"
                            "1011001000011110100000011011001000011110100000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000000"
                            "1001001000001010100000010010000000010100000000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000100001000010000000000000000000000"
                            "1000010000100010001000010000100001010001000000"),
    bitset<NUM_TOTAL_MOVES>("01000010000100000000000000000000000000000000000001"
                            "1000110001110011001000011000110001110011001000"),
    bitset<NUM_TOTAL_MOVES>("00000000000000000000000000000000000000000000000001"
                            "0000100001010001000000001000010000100010001000"),
};

#endif