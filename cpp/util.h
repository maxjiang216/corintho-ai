#ifndef UTIL_H
#define UTIL_H

#include <cstdint>
#include <string>
#include <bitset>
#include <array>

using std::bitset;
using std::string;

// Typedef

// Default ints to use
// Generally memory is not too critical, prioritize speed
typedef uint_fast32_t uintf;
typedef int_fast32_t intf;

// Ints for memory critical parts
// Generally use in large arrays
typedef uint_least8_t uint8s;
typedef uint_least16_t uint16s;

// Define constants used by the pipeline
// This is for constants used by more than one file
// Otherwise keep the constants in the file that uses it

// Size of game state sample
const uintf GAME_STATE_SIZE = 70;
// Number of possible legal moves
const uintf NUM_TOTAL_MOVES = 96;
// Number of moves the simulator uses
const uintf NUM_MOVES = 96;

enum Result {NONE, LOSS, DRAW, WIN};

inline std::array<bitset<NUM_TOTAL_MOVES>, 102> line_breakers = {
	bitset<NUM_TOTAL_MOVES>("000000000000000000000000001000000000111000000000000100000000000011100000000000000000000000000000"),
	bitset<NUM_TOTAL_MOVES>(string("001000000000111000000000001000000000111100000000000000000000000000010000000000001110000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("001000000000111000000000000000000000000100000000000000000000000000000000000000000001000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000111000000000000001000000000011100000000000010000000000001110000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001000000111111100000000001000000111011110000000000000000000000000001000000000000111000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001000000000111100000000000000000111000010000000000000000000000000000000000000000000100000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000011100000000000001000000000001110000000000001000000000000111000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000001000000011111110000000001000000011101110000000000000000000000000000100000000000011100000")),
	bitset<NUM_TOTAL_MOVES>(string("000000001000000000011110000000000000000011100001000000000000000000000000000000000000000000010000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000001110000000000001000000000000000000000000000100000000000011100000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000001000000001111000000000001000000001110000000000000000000000000000000010000000000001110")),
	bitset<NUM_TOTAL_MOVES>(string("000000000001000000000001000000000000000000001110000000000000000000000000000000000000000000000001")),
	bitset<NUM_TOTAL_MOVES>(string("100000000000000000000000000000000000011100000000100000000000000001110000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("100000000000011100000000100000000000111100000000000000000000000010000000000000000111000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000011100000000100000000000100000000000000000000000000000000000000000001000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100000000011100000000000000000000000001110000000010000000000000000111000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100000000111101110000000100000000011111110000000000000000000000001000000000000000011100000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000100001110000000100000000011110000000000000000000000000000000000000000000100000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000100000000001110000000000000000000000000111000000001000000000000000011100000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000100000000011110111000000100000000001111111000000000000000000000000100000000000000001110000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000010000111000000100000000001111000000000000000000000000000000000000000000010000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000100000000000111000000000000000000000000000000000000100000000000000001110000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000100000000001111000000000100000000000111000000000000000000000000000010000000000000000111")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000001000000000000100000000000111000000000000000000000000000000000000000000001000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000000000000000000011000000000000000000000000001100000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000011000000000000000000000000001100000000000000000000000000110000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000001100000000000000000000000000110000000000000000000000000011000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000110000000000000000000000000000000000000000000000000000001100000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000011000000000000000000000011000000000000000000000000000000000000000000110000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000011001100000000000000000011001100000000000000000000000000000000000000000011000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000001100110000000000000000001100110000000000000000000000000000000000000000001100000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000110000000000000000000000110000000000000000000000000000000000000000000000110")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000011000000000000000000000000000000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000001100000000000000000011000000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000110000000000000000001100000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000000000000000000000000000110000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000000100100100000000000001000000000000000100010001000100000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("100100100000000000001000100100100100000000001000000000000000000000000000000010001000100010000000")),
	bitset<NUM_TOTAL_MOVES>(string("100100100000000000001000000000000100000000000000000000000000000000000000000000000000000000001000")),
	bitset<NUM_TOTAL_MOVES>(string("100100100000000000000000010010010000000000000100000000000000010001000100010000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("110110110100000000000100110110110010000000000100000000000000000000000000000001000100010001000000")),
	bitset<NUM_TOTAL_MOVES>(string("010010010100000000000100100100100010000000000000000000000000000000000000000000000000000000000100")),
	bitset<NUM_TOTAL_MOVES>(string("010010010000000000000000001001001000000000000010000000000000001000100010001000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("011011011010000000000010011011011001000000000010000000000000000000000000000000100010001000100000")),
	bitset<NUM_TOTAL_MOVES>(string("001001001010000000000010010010010001000000000000000000000000000000000000000000000000000000000010")),
	bitset<NUM_TOTAL_MOVES>(string("001001001000000000000000000000000000000000000001000000000000000100010001000100000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("001001001001000000000001001001001000000000000001000000000000000000000000000000010001000100010000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000001000000000001001001001000000000000000000000000000000000000000000000000000000000000001")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000100000000000000100100100000000000000100000000000000000001000100010000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100100100100000000000100100100100100000000000000000000000000010000000000000000000100010001000")),
	bitset<NUM_TOTAL_MOVES>(string("000100100100000000000000100000000000100000000000000000000000000000000000000000001000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100100100010000000000000010010010000000000000010000000000000000000100010001000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("100110110110010000000000010110110110010000000000000000000000000001000000000000000000010001000100")),
	bitset<NUM_TOTAL_MOVES>(string("100010010010000000000000010100100100010000000000000000000000000000000000000000000100000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000010010010001000000000000001001001000000000000001000000000000000000010001000100000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("010011011011001000000000001011011011001000000000000000000000000000100000000000000000001000100010")),
	bitset<NUM_TOTAL_MOVES>(string("010001001001000000000000001010010010001000000000000000000000000000000000000000000010000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001001001000100000000000000000000000000000000000100000000000000000001000100010000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("001001001001000100000000000001001001000100000000000000000000000000010000000000000000000100010001")),
	bitset<NUM_TOTAL_MOVES>(string("001000000000000000000000000001001001000100000000000000000000000000000000000000000001000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000000000100100000000000000000000000000000000000001000100000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100100000000000000000000010010000000000000000000000000000000000000100010000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000010010000000000000000000001001000000000000000000000000000000000000010001000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001001000000000000000000000000000000000000000000000000000000000000001000100000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100100000000000000000000100100000000000000000000000000000000000000000000000000000100010000000")),
	bitset<NUM_TOTAL_MOVES>(string("000110110000000000000000000110110000000000000000000000000000000000000000000000000000010001000000")),
	bitset<NUM_TOTAL_MOVES>(string("000011011000000000000000000011011000000000000000000000000000000000000000000000000000001000100000")),
	bitset<NUM_TOTAL_MOVES>(string("000001001000000000000000000001001000000000000000000000000000000000000000000000000000000100010000")),
	bitset<NUM_TOTAL_MOVES>(string("000100100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000010010000000000000000000100100000000000000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001001000000000000000000010010000000000000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000000000000000000000000001001000000000000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100010000011000000000100010001000100001000010000000000000000110000100001000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("100110011001111001000011100110011000110001100010000000000000000000000000000000011000010000100000")),
	bitset<NUM_TOTAL_MOVES>(string("100010001001100001000011000100010000010000100000000000000000000000000000000000000000000000000001")),
	bitset<NUM_TOTAL_MOVES>(string("000100010001011000000001000010001000000001000010100000000000000000000100001000010000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000110011001011001000011100110011001110001100011000000000000000010000000000000000000010000100001")),
	bitset<NUM_TOTAL_MOVES>(string("000010001000000001000010100100010001110000100001000000000000000000000000000000001000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100010000011000000000000010001000000001000010000000000000000000000100001000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000110011000011001000010000110011000010001100010000000000000000000000000000000000000010000100000")),
	bitset<NUM_TOTAL_MOVES>(string("000010001000000001000010000100010000010000100000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("001010100000011000000000000001010000000100100100000000000000100000010010010000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("001011110000011100101100001011110100001101100100000000000000000000000000000010000001001001000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001010000000100101100001010100100001001000000000000000000000000000000000000000000000000001000")),
	bitset<NUM_TOTAL_MOVES>(string("000010100000011000001000000001010100000000100100000100000000000000000010010010000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("001011110100011000101100000011110100001101101100000000000000000000010000000000000000001001001000")),
	bitset<NUM_TOTAL_MOVES>(string("001001010100000000100100000010100000001101001000000000000000000000000000000000000001000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000010100000011000000000000001010000000000100100000000000000000000000010010000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000011110000011000100100000011110000001001100100000000000000000000000000000000000000001001000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001010000000000100100000010100000001001000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("010100000000010010000000001010100000001001001000000000000000000000100100100000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("011110100000011011001000011110100000011011001000000000000000000000000000000000000010010010000000")),
	bitset<NUM_TOTAL_MOVES>(string("001010100000001001001000010100000000010010000000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("100010001000001000010000010001000000010000100001000000000000000001000010000100000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("110011001000011000110001110011001000011000110001000000000000000000000000000000000100001000010000")),
	bitset<NUM_TOTAL_MOVES>(string("010001000000010000100001100010001000001000010000000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001010100000100100100000000001010000000010010000000000000000000000001001001000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000001011110000100110110000001011110000100110110000000000000000000000000000000000000000100100100")),
	bitset<NUM_TOTAL_MOVES>(string("000000001010000000010010000001010100000100100100000000000000000000000000000000000000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000000100010100001000010000100010001000010000100000000000000000000001000010000100000000000000000")),
	bitset<NUM_TOTAL_MOVES>(string("000100110011100011000110000100110011100011000110000000000000000000000000000000000000100001000010")),
	bitset<NUM_TOTAL_MOVES>(string("000100010001000010000100000000100010100001000010000000000000000000000000000000000000000000000000")),
};

#endif